<?xml version="1.0" encoding="UTF-8"?>
<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.ui.layout.form">
    
    <Dialog
        title="{i18n>dialog.createCatalogEntry.title}"
        class="sapUiMediumMargin"
        contentWidth="80vw"
        contentHeight="85vh"
        resizable="true"
        draggable="true">
        
        <content>
            <Page showHeader="false">
                <content>
                    
                    <IconTabBar id="createEntryTabBar" class="sapUiNoContentPadding">
                        
                        <!-- Basic Information Tab -->
                        <items>
                            <IconTabFilter text="{i18n>tab.generalInfo}" key="basic" icon="sap-icon://detail-view">
                                <content>
                                    <f:SimpleForm
                                        editable="true"
                                        layout="ResponsiveGridLayout"
                                        class="sapUiMediumMargin">
                                        
                                        <f:content>
                                            
                                            <!-- Resource Name -->
                                            <Label text="{i18n>field.resourceName}" required="true"/>
                                            <Input id="resourceNameInput" value="" placeholder="{i18n>placeholder.resourceName}" required="true"/>
                                            
                                            <!-- Description -->
                                            <Label text="{i18n>field.description}"/>
                                            <TextArea id="descriptionInput" value="" rows="3" placeholder="{i18n>placeholder.description}"/>
                                            
                                            <!-- Catalog Type -->
                                            <Label text="{i18n>field.catalogType}" required="true"/>
                                            <ComboBox
                                                id="catalogTypeCombo"
                                                selectedKey=""
                                                placeholder="{i18n>placeholder.catalogType}"
                                                required="true">
                                                <core:Item key="service" text="{i18n>catalog.service}"/>
                                                <core:Item key="api" text="{i18n>catalog.api}"/>
                                                <core:Item key="data" text="{i18n>catalog.data}"/>
                                                <core:Item key="component" text="{i18n>catalog.component}"/>
                                                <core:Item key="application" text="{i18n>catalog.application}"/>
                                                <core:Item key="infrastructure" text="{i18n>catalog.infrastructure}"/>
                                                <core:Item key="security" text="{i18n>catalog.security}"/>
                                                <core:Item key="integration" text="{i18n>catalog.integration}"/>
                                            </ComboBox>
                                            
                                            <!-- Resource Type -->
                                            <Label text="{i18n>field.resourceType}" required="true"/>
                                            <ComboBox
                                                id="resourceTypeCombo"
                                                selectedKey=""
                                                placeholder="{i18n>placeholder.resourceType}"
                                                required="true">
                                                <core:Item key="rest_api" text="{i18n>resource.rest_api}"/>
                                                <core:Item key="soap_service" text="{i18n>resource.soap_service}"/>
                                                <core:Item key="graphql" text="{i18n>resource.graphql}"/>
                                                <core:Item key="websocket" text="{i18n>resource.websocket}"/>
                                                <core:Item key="database" text="{i18n>resource.database}"/>
                                                <core:Item key="file_system" text="{i18n>resource.file_system}"/>
                                                <core:Item key="queue" text="{i18n>resource.queue}"/>
                                                <core:Item key="cache" text="{i18n>resource.cache}"/>
                                                <core:Item key="storage" text="{i18n>resource.storage}"/>
                                                <core:Item key="compute" text="{i18n>resource.compute}"/>
                                                <core:Item key="network" text="{i18n>resource.network}"/>
                                                <core:Item key="security" text="{i18n>resource.security}"/>
                                            </ComboBox>
                                            
                                            <!-- Category -->
                                            <Label text="{i18n>field.category}" required="true"/>
                                            <ComboBox
                                                id="categoryCombo"
                                                selectedKey=""
                                                placeholder="{i18n>placeholder.category}"
                                                required="true">
                                                <!-- Categories will be loaded dynamically -->
                                            </ComboBox>
                                            
                                            <!-- Visibility -->
                                            <Label text="{i18n>field.visibility}"/>
                                            <SegmentedButton id="visibilitySegmented" selectedKey="internal">
                                                <items>
                                                    <SegmentedButtonItem key="public" text="{i18n>visibility.public}"/>
                                                    <SegmentedButtonItem key="internal" text="{i18n>visibility.internal}"/>
                                                    <SegmentedButtonItem key="private" text="{i18n>visibility.private}"/>
                                                    <SegmentedButtonItem key="restricted" text="{i18n>visibility.restricted}"/>
                                                </items>
                                            </SegmentedButton>
                                            
                                        </f:content>
                                    </f:SimpleForm>
                                </content>
                            </IconTabFilter>
                            
                            <!-- Resource Details Tab -->
                            <IconTabFilter text="{i18n>tab.resourceDetails}" key="resource" icon="sap-icon://internet-browser">
                                <content>
                                    <f:SimpleForm
                                        editable="true"
                                        layout="ResponsiveGridLayout"
                                        class="sapUiMediumMargin">
                                        
                                        <f:content>
                                            
                                            <!-- Resource URL -->
                                            <Label text="{i18n>field.resourceUrl}" required="true"/>
                                            <Input id="resourceUrlInput" value="" type="Url" placeholder="{i18n>placeholder.resourceUrl}" required="true"/>
                                            
                                            <!-- Version -->
                                            <Label text="{i18n>field.version}"/>
                                            <Input id="versionInput" value="" placeholder="{i18n>placeholder.version}"/>
                                            
                                            <!-- API Version -->
                                            <Label text="{i18n>field.apiVersion}"/>
                                            <Input id="apiVersionInput" value="" placeholder="{i18n>placeholder.apiVersion}"/>
                                            
                                            <!-- Protocol -->
                                            <Label text="{i18n>field.protocol}"/>
                                            <ComboBox id="protocolCombo" selectedKey="https">
                                                <core:Item key="http" text="{i18n>protocol.http}"/>
                                                <core:Item key="https" text="{i18n>protocol.https}"/>
                                                <core:Item key="tcp" text="{i18n>protocol.tcp}"/>
                                                <core:Item key="udp" text="{i18n>protocol.udp}"/>
                                                <core:Item key="websocket" text="{i18n>protocol.websocket}"/>
                                                <core:Item key="grpc" text="{i18n>protocol.grpc}"/>
                                                <core:Item key="mqtt" text="{i18n>protocol.mqtt}"/>
                                                <core:Item key="amqp" text="{i18n>protocol.amqp}"/>
                                            </ComboBox>
                                            
                                            <!-- Authentication Method -->
                                            <Label text="{i18n>field.authenticationMethod}"/>
                                            <ComboBox id="authMethodCombo" selectedKey="bearer">
                                                <core:Item key="none" text="{i18n>auth.none}"/>
                                                <core:Item key="basic" text="{i18n>auth.basic}"/>
                                                <core:Item key="bearer" text="{i18n>auth.bearer}"/>
                                                <core:Item key="oauth2" text="{i18n>auth.oauth2}"/>
                                                <core:Item key="api_key" text="{i18n>auth.api_key}"/>
                                                <core:Item key="certificate" text="{i18n>auth.certificate}"/>
                                                <core:Item key="jwt" text="{i18n>auth.jwt}"/>
                                                <core:Item key="saml" text="{i18n>auth.saml}"/>
                                            </ComboBox>
                                            
                                            <!-- Content Type -->
                                            <Label text="{i18n>field.contentType}"/>
                                            <ComboBox id="contentTypeCombo" selectedKey="json">
                                                <core:Item key="json" text="{i18n>content.json}"/>
                                                <core:Item key="xml" text="{i18n>content.xml}"/>
                                                <core:Item key="yaml" text="{i18n>content.yaml}"/>
                                                <core:Item key="text" text="{i18n>content.text}"/>
                                                <core:Item key="binary" text="{i18n>content.binary}"/>
                                                <core:Item key="csv" text="{i18n>content.csv}"/>
                                                <core:Item key="pdf" text="{i18n>content.pdf}"/>
                                                <core:Item key="image" text="{i18n>content.image}"/>
                                            </ComboBox>
                                            
                                            <!-- Documentation URL -->
                                            <Label text="{i18n>field.documentation}"/>
                                            <Input id="documentationInput" value="" type="Url" placeholder="{i18n>placeholder.documentation}"/>
                                            
                                            <!-- Health Check URL -->
                                            <Label text="{i18n>field.healthCheckUrl}"/>
                                            <Input id="healthCheckUrlInput" value="" type="Url" placeholder="{i18n>placeholder.healthCheckUrl}"/>
                                            
                                            <!-- Swagger URL -->
                                            <Label text="{i18n>field.swaggerUrl}"/>
                                            <Input id="swaggerUrlInput" value="" type="Url" placeholder="{i18n>placeholder.swaggerUrl}"/>
                                            
                                        </f:content>
                                    </f:SimpleForm>
                                </content>
                            </IconTabFilter>
                            
                            <!-- Metadata Tab -->
                            <IconTabFilter text="{i18n>tab.metadata}" key="metadata" icon="sap-icon://tags">
                                <content>
                                    <VBox class="sapUiMediumMargin">
                                        
                                        <!-- Metadata Schema -->
                                        <Label text="{i18n>field.metadataSchema}" class="sapUiSmallMarginBottom"/>
                                        <ComboBox id="metadataSchemaCombo" selectedKey="dublincore">
                                            <core:Item key="dublincore" text="Dublin Core"/>
                                            <core:Item key="schema_org" text="Schema.org"/>
                                            <core:Item key="openapi" text="OpenAPI"/>
                                            <core:Item key="custom" text="Custom Schema"/>
                                        </ComboBox>
                                        
                                        <HBox class="sapUiSmallMarginTop">
                                            <VBox class="sapUiMediumMarginEnd" width="50%">
                                                
                                                <!-- Keywords -->
                                                <Label text="{i18n>field.keywords}" class="sapUiSmallMarginBottom"/>
                                                <Input id="keywordsInput" value="" placeholder="{i18n>placeholder.keywords}"/>
                                                
                                                <!-- Tags -->
                                                <Label text="{i18n>field.tags}" class="sapUiSmallMarginTop sapUiSmallMarginBottom"/>
                                                <Input id="tagsInput" value="" placeholder="{i18n>placeholder.tags}"/>
                                                
                                                <!-- Owner -->
                                                <Label text="{i18n>field.owner}" class="sapUiSmallMarginTop sapUiSmallMarginBottom"/>
                                                <Input id="ownerInput" value="" placeholder="{i18n>placeholder.owner}"/>
                                                
                                                <!-- Maintainer -->
                                                <Label text="{i18n>field.maintainer}" class="sapUiSmallMarginTop sapUiSmallMarginBottom"/>
                                                <Input id="maintainerInput" value="" placeholder="{i18n>placeholder.maintainer}"/>
                                                
                                            </VBox>
                                            
                                            <VBox width="50%">
                                                
                                                <!-- License -->
                                                <Label text="{i18n>field.license}" class="sapUiSmallMarginBottom"/>
                                                <ComboBox id="licenseCombo">
                                                    <core:Item key="mit" text="MIT License"/>
                                                    <core:Item key="apache2" text="Apache License 2.0"/>
                                                    <core:Item key="gpl3" text="GPL v3"/>
                                                    <core:Item key="bsd" text="BSD License"/>
                                                    <core:Item key="proprietary" text="Proprietary"/>
                                                    <core:Item key="custom" text="Custom License"/>
                                                </ComboBox>
                                                
                                                <!-- Compliance -->
                                                <Label text="{i18n>field.compliance}" class="sapUiSmallMarginTop sapUiSmallMarginBottom"/>
                                                <MultiComboBox id="complianceMultiCombo">
                                                    <core:Item key="gdpr" text="{i18n>compliance.gdpr}"/>
                                                    <core:Item key="hipaa" text="{i18n>compliance.hipaa}"/>
                                                    <core:Item key="sox" text="{i18n>compliance.sox}"/>
                                                    <core:Item key="iso27001" text="{i18n>compliance.iso27001}"/>
                                                    <core:Item key="pci_dss" text="{i18n>compliance.pci_dss}"/>
                                                    <core:Item key="ferpa" text="{i18n>compliance.ferpa}"/>
                                                </MultiComboBox>
                                                
                                                <!-- Data Classification -->
                                                <Label text="{i18n>field.dataClassification}" class="sapUiSmallMarginTop sapUiSmallMarginBottom"/>
                                                <ComboBox id="dataClassificationCombo" selectedKey="internal">
                                                    <core:Item key="public" text="{i18n>classification.public}"/>
                                                    <core:Item key="internal" text="{i18n>classification.internal}"/>
                                                    <core:Item key="confidential" text="{i18n>classification.confidential}"/>
                                                    <core:Item key="restricted" text="{i18n>classification.restricted}"/>
                                                    <core:Item key="top_secret" text="{i18n>classification.top_secret}"/>
                                                </ComboBox>
                                                
                                                <!-- Retention Period -->
                                                <Label text="{i18n>field.retentionPeriod}" class="sapUiSmallMarginTop sapUiSmallMarginBottom"/>
                                                <StepInput id="retentionPeriodInput" value="365" min="1" max="3650" step="1"/>
                                                
                                            </VBox>
                                        </HBox>
                                        
                                        <!-- Custom Metadata Properties -->
                                        <Label text="{i18n>section.customMetadata}" class="sapUiMediumMarginTop sapUiSmallMarginBottom"/>
                                        <Table id="metadataPropertiesTable" mode="Delete">
                                            <headerToolbar>
                                                <Toolbar>
                                                    <Title text="{i18n>section.metadataProperties}"/>
                                                    <ToolbarSpacer/>
                                                    <Button text="{i18n>btn.addProperty}" icon="sap-icon://add" press="onAddMetadataProperty" type="Transparent"/>
                                                </Toolbar>
                                            </headerToolbar>
                                            
                                            <columns>
                                                <Column>
                                                    <Text text="{i18n>field.propertyName}"/>
                                                </Column>
                                                <Column>
                                                    <Text text="{i18n>field.propertyType}"/>
                                                </Column>
                                                <Column>
                                                    <Text text="{i18n>field.propertyValue}"/>
                                                </Column>
                                                <Column>
                                                    <Text text="{i18n>field.isSearchable}"/>
                                                </Column>
                                            </columns>
                                            
                                            <items>
                                                <ColumnListItem>
                                                    <cells>
                                                        <Input value="{propertyName}" placeholder="{i18n>placeholder.propertyName}"/>
                                                        <ComboBox selectedKey="{propertyType}">
                                                            <core:Item key="string" text="String"/>
                                                            <core:Item key="number" text="Number"/>
                                                            <core:Item key="boolean" text="Boolean"/>
                                                            <core:Item key="date" text="Date"/>
                                                            <core:Item key="url" text="URL"/>
                                                        </ComboBox>
                                                        <Input value="{propertyValue}" placeholder="{i18n>placeholder.propertyValue}"/>
                                                        <CheckBox selected="{isSearchable}"/>
                                                    </cells>
                                                </ColumnListItem>
                                            </items>
                                        </Table>
                                        
                                    </VBox>
                                </content>
                            </IconTabFilter>
                            
                            <!-- Discovery Settings Tab -->
                            <IconTabFilter text="{i18n>tab.discovery}" key="discovery" icon="sap-icon://search">
                                <content>
                                    <f:SimpleForm
                                        editable="true"
                                        layout="ResponsiveGridLayout"
                                        class="sapUiMediumMargin">
                                        
                                        <f:content>
                                            
                                            <!-- Searchable -->
                                            <Label text="{i18n>field.searchable}"/>
                                            <Switch id="searchableSwitch" state="true"/>
                                            
                                            <!-- Search Tags -->
                                            <Label text="{i18n>field.searchTags}"/>
                                            <Input id="searchTagsInput" value="" placeholder="{i18n>placeholder.searchTags}"/>
                                            
                                            <!-- Search Weight -->
                                            <Label text="{i18n>field.searchWeight}"/>
                                            <Slider id="searchWeightSlider" value="50" min="0" max="100" step="5" enableTickmarks="true"/>
                                            
                                            <!-- Auto Discovery -->
                                            <Label text="{i18n>field.autoDiscovery}"/>
                                            <Switch id="autoDiscoverySwitch" state="false"/>
                                            
                                            <!-- Discovery Frequency -->
                                            <Label text="{i18n>field.discoveryFrequency}"/>
                                            <ComboBox id="discoveryFrequencyCombo" selectedKey="daily">
                                                <core:Item key="hourly" text="Hourly"/>
                                                <core:Item key="daily" text="Daily"/>
                                                <core:Item key="weekly" text="Weekly"/>
                                                <core:Item key="monthly" text="Monthly"/>
                                                <core:Item key="manual" text="Manual Only"/>
                                            </ComboBox>
                                            
                                        </f:content>
                                    </f:SimpleForm>
                                </content>
                            </IconTabFilter>
                            
                        </items>
                    </IconTabBar>
                    
                </content>
            </Page>
        </content>
        
        <beginButton>
            <Button text="{i18n>btn.createEntry}" press="onCreateEntry" type="Emphasized"/>
        </beginButton>
        <endButton>
            <Button text="{i18n>btn.cancel}" press="onCancelCreateEntry"/>
        </endButton>
        
    </Dialog>
    
</core:FragmentDefinition>