<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    
    <!-- Standard SAP Fiori Loading States -->
    
    <!-- Skeleton Loading for Lists - Tablet Optimized -->
    <VBox class="sapUiMediumMargin a2a-tablet-loading" visible="{ui>/isLoadingSkeleton}">
        <Title text="{i18n>loading}" class="sapUiMediumMarginBottom"/>
        <VBox class="sapUiSmallMarginBottom">
            <Bar class="sapUiTinyMarginBottom">
                <contentLeft>
                    <core:HTML content="&lt;div class='skeleton-placeholder skeleton-title'&gt;&lt;/div&gt;"/>
                </contentLeft>
                <contentRight>
                    <core:HTML content="&lt;div class='skeleton-placeholder skeleton-badge'&gt;&lt;/div&gt;"/>
                </contentRight>
            </Bar>
            <core:HTML content="&lt;div class='skeleton-placeholder skeleton-text skeleton-text-60'&gt;&lt;/div&gt;"/>
        </VBox>
        <VBox class="sapUiSmallMarginBottom">
            <Bar class="sapUiTinyMarginBottom">
                <contentLeft>
                    <core:HTML content="&lt;div class='skeleton-placeholder skeleton-title-medium'&gt;&lt;/div&gt;"/>
                </contentLeft>
                <contentRight>
                    <core:HTML content="&lt;div class='skeleton-placeholder skeleton-badge-large'&gt;&lt;/div&gt;"/>
                </contentRight>
            </Bar>
            <core:HTML content="&lt;div class='skeleton-placeholder skeleton-text skeleton-text-45'&gt;&lt;/div&gt;"/>
        </VBox>
        <VBox class="sapUiSmallMarginBottom">
            <Bar class="sapUiTinyMarginBottom">
                <contentLeft>
                    <core:HTML content="&lt;div class='skeleton-placeholder skeleton-title-large'&gt;&lt;/div&gt;"/>
                </contentLeft>
                <contentRight>
                    <core:HTML content="&lt;div class='skeleton-placeholder skeleton-badge-medium'&gt;&lt;/div&gt;"/>
                </contentRight>
            </Bar>
            <core:HTML content="&lt;div class='skeleton-placeholder skeleton-text skeleton-text-70'&gt;&lt;/div&gt;"/>
        </VBox>
    </VBox>

    <!-- Spinner Loading for Actions -->
    <VBox alignItems="Center" justifyContent="Center" 
          class="sapUiLargeMargin" 
          visible="{ui>/isLoadingSpinner}"
          class="a2a-loading-container">
        <BusyIndicator size="Large" class="sapUiMediumMarginBottom"/>
        <Text text="{ui>/loadingMessage}" 
              textAlign="Center"
              class="sapUiMediumText"/>
        <Text text="{ui>/loadingSubMessage}" 
              textAlign="Center"
              class="sapUiSmallText sapUiContentPadding"/>
    </VBox>

    <!-- Progress Loading for Multi-step Operations -->
    <VBox class="sapUiMediumMargin" visible="{ui>/isLoadingProgress}">
        <Title text="{ui>/progressTitle}" level="H4" class="sapUiMediumMarginBottom"/>
        <ProgressIndicator 
            percentValue="{ui>/progressValue}"
            displayValue="{ui>/progressText}"
            state="{ui>/progressState}"
            class="sapUiMediumMarginBottom"/>
        <Text text="{ui>/progressDescription}" class="sapUiSmallText"/>
    </VBox>

    <!-- Blockchain-specific Loading States -->
    <VBox class="sapUiMediumMargin" visible="{ui>/isLoadingBlockchain}">
        <MessageStrip 
            text="{i18n>blockchainProcessing}"
            type="Information"
            showIcon="true"
            class="sapUiMediumMarginBottom">
            <customIcon>
                <core:Icon src="sap-icon://chain-link" color="Accent6"/>
            </customIcon>
        </MessageStrip>
        <VBox alignItems="Center" class="sapUiMediumMargin">
            <BusyIndicator size="Medium" class="sapUiSmallMarginBottom"/>
            <Text text="{ui>/blockchainStep}" textAlign="Center"/>
            <Text text="{i18n>blockchainWait}" 
                  textAlign="Center" 
                  class="sapUiSmallText sapUiContentPadding"/>
        </VBox>
    </VBox>

    <!-- Error State -->
    <VBox class="sapUiMediumMargin" visible="{ui>/hasError}">
        <MessageStrip 
            text="{ui>/errorMessage}"
            type="Error"
            showIcon="true"
            showCloseButton="true"
            close="onCloseError">
        </MessageStrip>
        <Button 
            text="{i18n>retry}"
            type="Emphasized"
            press="onRetry"
            class="sapUiMediumMarginTop"/>
    </VBox>

</core:FragmentDefinition>