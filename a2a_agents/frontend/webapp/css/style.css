/* 
 * SAP Fiori 3.0 Compliant Styles
 * Using SAP Theme Parameters and Semantic Colors
 */

/* Import SAP Theme Parameters */
@import "sap/ui/core/themes/base/base.less";
@import "sap/ui/core/themes/sap_horizon/global.less";

/* ========================================
   Notification Badge - Fiori Compliant
   ======================================== */

/* Use SAP semantic colors and theme parameters */
.sapMBtn[data-badge]:not([data-badge=""]):not([data-badge="0"])::after {
    content: attr(data-badge);
    position: absolute;
    top: -0.125rem;
    right: -0.125rem;
    background-color: var(--sapButton_Negative_Background);
    color: var(--sapButton_Negative_TextColor);
    border-radius: 0.5rem;
    min-width: 1.125rem;
    height: 1.125rem;
    font-size: 0.6875rem;
    font-weight: var(--sapFontBoldWeight);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 0.25rem;
    box-shadow: var(--sapContent_Shadow0);
    z-index: 1;
    font-family: var(--sapFontFamily);
}

/* Subtle animation using SAP motion principles */
@keyframes sapNotificationPulse {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.9;
    }
}

.sapMBtn[data-badge]:not([data-badge=""]):not([data-badge="0"]).sapUiNotificationPulse::after {
    animation: sapNotificationPulse 2s ease-in-out infinite;
}

/* ========================================
   Notification Items - Fiori Compliant
   ======================================== */

.sapUiNotificationItem {
    border-left: 0.25rem solid transparent;
    transition: background-color 0.2s ease;
}

.sapUiNotificationItem:hover {
    background-color: var(--sapList_Hover_Background);
}

/* Use semantic colors for priority */
.sapUiNotificationItem[data-priority="critical"] {
    border-left-color: var(--sapErrorBorderColor);
}

.sapUiNotificationItem[data-priority="high"] {
    border-left-color: var(--sapWarningBorderColor);
}

.sapUiNotificationItem[data-priority="medium"] {
    border-left-color: var(--sapSuccessBorderColor);
}

.sapUiNotificationItem[data-priority="low"] {
    border-left-color: var(--sapInformationBorderColor);
}

/* Unread notification state */
.sapUiNotificationItem.sapUiNotificationUnread {
    background-color: var(--sapList_Highlight_Background);
    font-weight: var(--sapFontBoldWeight);
}

/* ========================================
   Card Enhancements - Fiori Compliant
   ======================================== */

/* Subtle hover effect for cards */
.sapFCard:hover {
    box-shadow: var(--sapContent_Shadow1);
    transition: box-shadow 0.3s ease;
}

/* Active card state */
.sapFCard:active {
    box-shadow: var(--sapContent_Shadow0);
}

/* ========================================
   Agent Status Indicators - Fiori Compliant
   ======================================== */

/* Use semantic color variables */
.sapUiAgentStatusActive {
    color: var(--sapPositiveTextColor);
}

.sapUiAgentStatusInactive {
    color: var(--sapNeutralTextColor);
}

.sapUiAgentStatusError {
    color: var(--sapNegativeTextColor);
}

.sapUiAgentStatusWarning {
    color: var(--sapCriticalTextColor);
}

/* ========================================
   Process Flow Enhancements - Fiori Compliant
   ======================================== */

/* Custom node highlighting */
.sapSuiteUiProcessFlowNode.sapUiAgentNode {
    border-color: var(--sapBrandColor);
}

.sapSuiteUiProcessFlowNode.sapUiAgentNode:hover {
    background-color: var(--sapList_Hover_Background);
}

/* ========================================
   Chart Enhancements - Fiori Compliant
   ======================================== */

/* Ensure charts use theme colors */
.sapVizFrame {
    font-family: var(--sapFontFamily);
}

.sapSuiteMicroChart {
    color: var(--sapTextColor);
}

/* ========================================
   Responsive Helpers - Fiori Compliant
   ======================================== */

/* Use SAP responsive margins */
@media (max-width: 599px) {
    .sapUiResponsiveContentPadding > * {
        padding: var(--sapContent_PaddingSmall);
    }
}

@media (min-width: 600px) and (max-width: 1023px) {
    .sapUiResponsiveContentPadding > * {
        padding: var(--sapContent_Padding);
    }
}

@media (min-width: 1024px) {
    .sapUiResponsiveContentPadding > * {
        padding: var(--sapContent_PaddingLarge);
    }
}

/* ========================================
   Loading States - Fiori Compliant
   ======================================== */

/* Use SAP busy indicator styling */
.sapUiLocalBusyIndicator {
    background-color: var(--sapContent_Background);
}

.sapUiLocalBusyIndicatorAnimation {
    border-color: var(--sapBrandColor);
}

/* ========================================
   Focus Indication - Accessibility
   ======================================== */

/* Ensure proper focus indication */
.sapMFocusable:focus {
    outline: 0.0625rem dotted var(--sapContent_FocusColor);
    outline-offset: -0.0625rem;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .sapMFocusable:focus {
        outline-width: 0.125rem;
        outline-style: solid;
    }
}

/* ========================================
   Dark Theme Support
   ======================================== */

/* Automatic dark theme adjustments */
[data-sap-ui-theme="sap_horizon_dark"] {
    /* Dark theme specific adjustments if needed */
    .sapFCard {
        background-color: var(--sapTile_Background);
    }
}

/* ========================================
   Agent Flow Diagram - Fiori Compliant
   ======================================== */

.sapUiAgentFlowDiagram {
    position: relative;
    overflow: hidden;
    background-color: var(--sapBackgroundColor);
    border: 1px solid var(--sapGroup_ContentBorderColor);
    border-radius: var(--sapElement_BorderCornerRadius);
}

/* Zoom controls positioning */
.sapUiAgentFlowZoomControls {
    position: absolute;
    top: 1rem;
    right: 1rem;
    z-index: 10;
    display: flex;
    gap: 0.5rem;
    background-color: var(--sapGroup_ContentBackground);
    padding: 0.5rem;
    border-radius: var(--sapElement_BorderCornerRadius);
    box-shadow: var(--sapContent_Shadow0);
}

.sapUiAgentFlowZoomControls button {
    width: 2rem;
    height: 2rem;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--sapButton_Background);
    border: 1px solid var(--sapButton_BorderColor);
    border-radius: var(--sapButton_BorderCornerRadius);
    cursor: pointer;
    transition: all 0.2s ease;
}

.sapUiAgentFlowZoomControls button:hover {
    background-color: var(--sapButton_Hover_Background);
    border-color: var(--sapButton_Hover_BorderColor);
}

.sapUiAgentFlowZoomControls button:active {
    background-color: var(--sapButton_Active_Background);
}

/* ========================================
   Agent Status Indicator - Fiori Compliant
   ======================================== */

.sapUiAgentStatusIndicator {
    padding: 1rem;
    background-color: var(--sapTile_Background);
    border: 1px solid var(--sapTile_BorderColor);
    border-radius: var(--sapTile_BorderCornerRadius);
    transition: all 0.3s ease;
}

.sapUiAgentStatusIndicator:hover {
    box-shadow: var(--sapContent_Shadow1);
    transform: translateY(-2px);
}

.sapUiAgentStatusIndicatorCompact {
    padding: 0.5rem;
}

/* Status-specific styling using semantic colors */
.sapUiAgentStatusIndicator[data-status="active"] {
    border-left: 4px solid var(--sapPositiveColor);
}

.sapUiAgentStatusIndicator[data-status="error"] {
    border-left: 4px solid var(--sapNegativeColor);
}

.sapUiAgentStatusIndicator[data-status="warning"] {
    border-left: 4px solid var(--sapCriticalColor);
}

.sapUiAgentStatusIndicator[data-status="inactive"] {
    border-left: 4px solid var(--sapNeutralColor);
}

/* ========================================
   Print Styles - Fiori Compliant
   ======================================== */

@media print {
    /* Hide non-essential elements */
    .sapMIBar,
    .sapMPageFooter,
    .sapUiHidden-print,
    .sapUiAgentFlowZoomControls {
        display: none !important;
    }
    
    /* Ensure readable print output */
    body {
        font-size: 10pt;
        color: #000;
        background: #fff;
    }
    
    /* Ensure diagrams are visible */
    .sapUiAgentFlowDiagram {
        border: 1px solid #ccc;
        page-break-inside: avoid;
    }
}