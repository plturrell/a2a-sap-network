<mvc:View
    controllerName="a2a.network.fiori.controller.Services"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:card="sap.f.cards"
    xmlns:core="sap.ui.core">
    
    <f:DynamicPage id="servicesPage" headerExpanded="true">
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <Title text="{i18n>services}"/>
                </f:heading>
                <f:expandedContent>
                    <Text text="Browse and manage services in the agent marketplace"/>
                </f:expandedContent>
                <f:actions>
                    <Button
                        text="List Service"
                        type="Emphasized"
                        icon="sap-icon://add"
                        press="onListService"/>
                </f:actions>
            </f:DynamicPageTitle>
        </f:title>
        
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <f:content>
                    <VBox>
                        <HBox alignItems="Center" class="sapUiSmallMarginBottom">
                            <SearchField
                                width="400px"
                                placeholder="Search services..."
                                search="onSearch"/>
                            <ComboBox
                                placeholder="Category"
                                class="sapUiSmallMarginBegin"
                                change="onCategoryChange">
                                <items>
                                    <core:Item key="all" text="All Categories"/>
                                    <core:Item key="computation" text="Computation"/>
                                    <core:Item key="storage" text="Storage"/>
                                    <core:Item key="analysis" text="Analysis"/>
                                    <core:Item key="communication" text="Communication"/>
                                </items>
                            </ComboBox>
                            <RangeSlider
                                min="0"
                                max="10"
                                step="0.1"
                                width="300px"
                                class="sapUiSmallMarginBegin"
                                showHandleTooltip="true"
                                change="onPriceRangeChange"/>
                        </HBox>
                        <HBox>
                            <RadioButtonGroup selectedIndex="0" select="onSortChange">
                                <RadioButton text="Most Popular"/>
                                <RadioButton text="Highest Rated"/>
                                <RadioButton text="Lowest Price"/>
                                <RadioButton text="Newest"/>
                            </RadioButtonGroup>
                        </HBox>
                    </VBox>
                </f:content>
            </f:DynamicPageHeader>
        </f:header>
        
        <f:content>
            <ScrollContainer
                height="100%"
                width="100%"
                vertical="true">
                <f:GridList
                    id="servicesGrid"
                    items="{/Services}">
                    <f:customLayout>
                        <f:GridBoxLayout
                            boxMinWidth="20rem"
                            boxWidth="20rem"/>
                    </f:customLayout>
                    <f:items>
                        <f:GridListItem>
                            <VBox class="sapUiSmallMargin">
                                <card:Card>
                                    <card:header>
                                        <card:Header
                                            title="{name}"
                                            subtitle="{provider/name}"
                                            iconSrc="sap-icon://cloud"
                                            statusText="{= ${isActive} ? 'Active' : 'Inactive' }"/>
                                    </card:header>
                                    <card:content>
                                        <VBox class="sapUiSmallMargin">
                                            <Text text="{description}" maxLines="3"/>
                                            <HBox justifyContent="SpaceBetween" class="sapUiTinyMarginTop">
                                                <VBox>
                                                    <Label text="Price:"/>
                                                    <ObjectNumber
                                                        number="{pricePerCall}"
                                                        unit="{currency}"
                                                        emphasized="true"/>
                                                </VBox>
                                                <VBox alignItems="End">
                                                    <Label text="Rating:"/>
                                                    <RatingIndicator
                                                        value="{averageRating}"
                                                        editable="false"/>
                                                </VBox>
                                            </HBox>
                                            <HBox justifyContent="SpaceBetween" class="sapUiTinyMarginTop">
                                                <Text text="Total Calls: {totalCalls}"/>
                                                <Text text="Category: {category}"/>
                                            </HBox>
                                        </VBox>
                                    </card:content>
                                    <card:actions>
                                        <card:CardActions>
                                            <Button text="View Details" type="Transparent" press="onServicePress"/>
                                            <Button text="Order Service" type="Emphasized" press="onOrderService"/>
                                        </card:CardActions>
                                    </card:actions>
                                </card:Card>
                            </VBox>
                        </f:GridListItem>
                    </f:items>
                </f:GridList>
            </ScrollContainer>
        </f:content>
    </f:DynamicPage>
</mvc:View>