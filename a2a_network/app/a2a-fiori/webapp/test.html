<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A2A Network Test</title>
    
    <!-- Bootstrap UI5 from CDN -->
    <script id="sap-ui-bootstrap"
        src="https://ui5.sap.com/1.120.0/resources/sap-ui-core.js"
        data-sap-ui-theme="sap_horizon"
        data-sap-ui-resourceroots='{
            "a2a.network.fiori": "./"
        }'
        data-sap-ui-libs="sap.m,sap.f,sap.tnt"
        data-sap-ui-compatVersion="edge"
        data-sap-ui-async="true"
        data-sap-ui-onInit="onInit">
    </script>
    
    <script>
        function onInit() {
            sap.ui.require([
                "sap/m/App",
                "sap/m/Page",
                "sap/m/Text",
                "sap/ui/core/ComponentContainer"
            ], function(App, Page, Text, ComponentContainer) {
                // Test if we can load basic UI5
                var oApp = new App("myApp", {
                    initialPage: "myPage"
                });
                
                var oPage = new Page("myPage", {
                    title: "A2A Network Test Page",
                    content: [
                        new Text({
                            text: "UI5 loaded successfully. Loading component..."
                        })
                    ]
                });
                
                oApp.addPage(oPage);
                oApp.placeAt("content");
                
                // Try loading the component
                var oComponentContainer = new ComponentContainer({
                    name: "a2a.network.fiori",
                    manifest: true,
                    async: true,
                    height: "100%"
                });
                
                oComponentContainer.attachComponentCreated(function(oEvent) {
                    console.log("Component created successfully!");
                    oPage.removeAllContent();
                    oPage.addContent(oComponentContainer);
                });
                
                oComponentContainer.attachComponentFailed(function(oEvent) {
                    console.error("Component creation failed:", oEvent.getParameter("reason"));
                    oPage.addContent(new Text({
                        text: "Component failed to load: " + oEvent.getParameter("reason")
                    }));
                });
            });
        }
    </script>
    
    <style>
        html, body, #content {
            height: 100%;
            margin: 0;
        }
    </style>
</head>
<body class="sapUiBody" id="content">
</body>
</html>