<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    
    <!-- Standard SAP Fiori Loading States -->
    
    <!-- Skeleton Loading for Lists -->
    <VBox class="sapUiMediumMargin" visible="{ui>/isLoadingSkeleton}">
        <Title text="{i18n>loading}" class="sapUiMediumMarginBottom"/>
        <VBox class="sapUiSmallMarginBottom">
            <Bar class="sapUiTinyMarginBottom">
                <contentLeft>
                    <core:HTML content="&lt;div class='skeleton-placeholder' style='width: 200px; height: 16px;'&gt;&lt;/div&gt;"/>
                </contentLeft>
                <contentRight>
                    <core:HTML content="&lt;div class='skeleton-placeholder' style='width: 80px; height: 16px;'&gt;&lt;/div&gt;"/>
                </contentRight>
            </Bar>
            <core:HTML content="&lt;div class='skeleton-placeholder' style='width: 60%; height: 12px; margin-top: 4px;'&gt;&lt;/div&gt;"/>
        </VBox>
        <VBox class="sapUiSmallMarginBottom">
            <Bar class="sapUiTinyMarginBottom">
                <contentLeft>
                    <core:HTML content="&lt;div class='skeleton-placeholder' style='width: 180px; height: 16px;'&gt;&lt;/div&gt;"/>
                </contentLeft>
                <contentRight>
                    <core:HTML content="&lt;div class='skeleton-placeholder' style='width: 100px; height: 16px;'&gt;&lt;/div&gt;"/>
                </contentRight>
            </Bar>
            <core:HTML content="&lt;div class='skeleton-placeholder' style='width: 45%; height: 12px; margin-top: 4px;'&gt;&lt;/div&gt;"/>
        </VBox>
        <VBox class="sapUiSmallMarginBottom">
            <Bar class="sapUiTinyMarginBottom">
                <contentLeft>
                    <core:HTML content="&lt;div class='skeleton-placeholder' style='width: 220px; height: 16px;'&gt;&lt;/div&gt;"/>
                </contentLeft>
                <contentRight>
                    <core:HTML content="&lt;div class='skeleton-placeholder' style='width: 90px; height: 16px;'&gt;&lt;/div&gt;"/>
                </contentRight>
            </Bar>
            <core:HTML content="&lt;div class='skeleton-placeholder' style='width: 70%; height: 12px; margin-top: 4px;'&gt;&lt;/div&gt;"/>
        </VBox>
    </VBox>

    <!-- Spinner Loading for Actions -->
    <VBox alignItems="Center" justifyContent="Center" 
          class="sapUiLargeMargin" 
          visible="{ui>/isLoadingSpinner}"
          height="200px">
        <BusyIndicator size="Large" class="sapUiMediumMarginBottom"/>
        <Text text="{ui>/loadingMessage}" 
              textAlign="Center"
              class="sapUiMediumText"/>
        <Text text="{ui>/loadingSubMessage}" 
              textAlign="Center"
              class="sapUiSmallText sapUiContentPadding"/>
    </VBox>

    <!-- Progress Loading for Multi-step Operations -->
    <VBox class="sapUiMediumMargin" visible="{ui>/isLoadingProgress}">
        <Title text="{ui>/progressTitle}" level="H4" class="sapUiMediumMarginBottom"/>
        <ProgressIndicator 
            percentValue="{ui>/progressValue}"
            displayValue="{ui>/progressText}"
            state="{ui>/progressState}"
            class="sapUiMediumMarginBottom"/>
        <Text text="{ui>/progressDescription}" class="sapUiSmallText"/>
    </VBox>

    <!-- Blockchain-specific Loading States -->
    <VBox class="sapUiMediumMargin" visible="{ui>/isLoadingBlockchain}">
        <MessageStrip 
            text="{i18n>blockchainProcessing}"
            type="Information"
            showIcon="true"
            class="sapUiMediumMarginBottom">
            <customIcon>
                <core:Icon src="sap-icon://chain-link" color="Accent6"/>
            </customIcon>
        </MessageStrip>
        <VBox alignItems="Center" class="sapUiMediumMargin">
            <BusyIndicator size="Medium" class="sapUiSmallMarginBottom"/>
            <Text text="{ui>/blockchainStep}" textAlign="Center"/>
            <Text text="{i18n>blockchainWait}" 
                  textAlign="Center" 
                  class="sapUiSmallText sapUiContentPadding"/>
        </VBox>
    </VBox>

    <!-- Error State -->
    <VBox class="sapUiMediumMargin" visible="{ui>/hasError}">
        <MessageStrip 
            text="{ui>/errorMessage}"
            type="Error"
            showIcon="true"
            showCloseButton="true"
            close="onCloseError">
        </MessageStrip>
        <Button 
            text="{i18n>retry}"
            type="Emphasized"
            press="onRetry"
            class="sapUiMediumMarginTop"/>
    </VBox>

</core:FragmentDefinition>