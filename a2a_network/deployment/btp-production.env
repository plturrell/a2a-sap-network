# A2A Network - BTP Production Environment Configuration
# Copy this file to .env when deploying to SAP BTP

# Node Environment
NODE_ENV=production

# Authentication Configuration
# MUST be 'true' for BTP deployment
ENABLE_XSUAA_VALIDATION=true

# Database - HANA Primary, Supabase Backup
# These will be automatically populated by VCAP_SERVICES in BTP
HANA_HOST=${VCAP_SERVICES.hana[0].credentials.host}
HANA_PORT=${VCAP_SERVICES.hana[0].credentials.port}
HANA_DATABASE=${VCAP_SERVICES.hana[0].credentials.database}
HANA_USER=${VCAP_SERVICES.hana[0].credentials.user}
HANA_PASSWORD=${VCAP_SERVICES.hana[0].credentials.password}

# XSUAA Authentication (automatically populated by BTP)
XSUAA_CLIENT_ID=${VCAP_SERVICES.xsuaa[0].credentials.clientid}
XSUAA_CLIENT_SECRET=${VCAP_SERVICES.xsuaa[0].credentials.clientsecret}
XSUAA_URL=${VCAP_SERVICES.xsuaa[0].credentials.url}
XSUAA_UAA_DOMAIN=${VCAP_SERVICES.xsuaa[0].credentials.uaadomain}
XSUAA_VERIFICATION_KEY=${VCAP_SERVICES.xsuaa[0].credentials.verificationkey}
XSUAA_XS_APP_NAME=${VCAP_SERVICES.xsuaa[0].credentials.xsappname}
XSUAA_IDENTITY_ZONE=${VCAP_SERVICES.xsuaa[0].credentials.identityzone}

# Blockchain Configuration (update with BTP-hosted blockchain or keep local)
BLOCKCHAIN_RPC_URL=https://your-btp-blockchain-endpoint
CHAIN_ID=31337

# Deployed Contract Addresses (same as local, or deploy to BTP blockchain)
AGENT_REGISTRY_ADDRESS=0x5fbdb2315678afecb367f032d93f642f64180aa3
MESSAGE_ROUTER_ADDRESS=0xe7f1725e7734ce288f8367e1bb143e90bb3f0512
BUSINESS_DATA_CLOUD_ADDRESS=0x9fe46736679d2d9a65f0992f2272de9f3c7fa6e0

# Production Blockchain Account (use secure key management in BTP)
DEFAULT_ACCOUNT=${BTP_BLOCKCHAIN_ACCOUNT}
DEFAULT_PRIVATE_KEY=${BTP_BLOCKCHAIN_PRIVATE_KEY}

# Supabase Backup Database (production instance)
SUPABASE_URL=https://your-production-project.supabase.co
SUPABASE_ANON_KEY=${SUPABASE_PROD_ANON_KEY}
SUPABASE_SERVICE_KEY=${SUPABASE_PROD_SERVICE_KEY}

# Security (generate new secrets for production)
SESSION_SECRET=${BTP_SESSION_SECRET}
JWT_SECRET=${BTP_JWT_SECRET}
VALID_API_KEYS=${BTP_API_KEY_1},${BTP_API_KEY_2}

# CORS (update with production domains)
ALLOWED_ORIGINS=https://your-app.cfapps.sap.hana.ondemand.com,https://your-launchpad.hana.ondemand.com

# Logging
LOG_LEVEL=warn

# Rate Limiting (more restrictive in production)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=50