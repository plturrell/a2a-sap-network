<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Launchpad Validation Test</title>
    <script>
        // Test script to validate launchpad configuration
        window.addEventListener('load', function() {
            const results = [];
            
            // Test 1: Check if sap-ushell-config exists
            if (window.parent && window.parent.document) {
                const parentWindow = window.parent;
                results.push({
                    test: 'SAP Shell Config',
                    passed: !!parentWindow['sap-ushell-config'],
                    details: parentWindow['sap-ushell-config'] ? 'Found' : 'Missing'
                });
            }
            
            // Test 2: Check for UI5 Core
            setTimeout(function() {
                results.push({
                    test: 'UI5 Core Loaded',
                    passed: typeof sap !== 'undefined' && sap.ui,
                    details: typeof sap !== 'undefined' ? 'Loaded' : 'Not loaded'
                });
                
                // Test 3: Check for UShell
                if (typeof sap !== 'undefined') {
                    results.push({
                        test: 'UShell Available',
                        passed: !!(sap.ushell && sap.ushell.Container),
                        details: sap.ushell ? 'Available' : 'Not available'
                    });
                }
                
                // Display results
                displayResults(results);
            }, 3000);
        });
        
        function displayResults(results) {
            const body = document.body;
            body.innerHTML = '<h1>Launchpad Validation Results</h1>';
            
            results.forEach(result => {
                const div = document.createElement('div');
                div.style.padding = '10px';
                div.style.margin = '5px';
                div.style.backgroundColor = result.passed ? '#d4edda' : '#f8d7da';
                div.style.color = result.passed ? '#155724' : '#721c24';
                div.innerHTML = `<strong>${result.test}:</strong> ${result.passed ? 'PASSED' : 'FAILED'} - ${result.details}`;
                body.appendChild(div);
            });
            
            const score = (results.filter(r => r.passed).length / results.length) * 100;
            const scoreDiv = document.createElement('div');
            scoreDiv.style.padding = '20px';
            scoreDiv.style.fontSize = '24px';
            scoreDiv.innerHTML = `<strong>Overall Score: ${score.toFixed(0)}%</strong>`;
            body.appendChild(scoreDiv);
        }
    </script>
</head>
<body>
    <h1>Loading...</h1>
    <iframe src="http://localhost:8080/launchpad.html" style="display:none"></iframe>
</body>
</html>