# SonarQube Project Configuration
# SAP Enterprise Quality Gates

# Project identification
sonar.projectKey=sap-a2a-platform
sonar.projectName=SAP A2A Platform
sonar.projectVersion=1.0.0
sonar.organization=a2a-developer-portal

# Source code directories
sonar.sources=a2aAgents/backend,a2aAgents/frontend,a2aNetwork/srv
sonar.tests=a2aAgents/tests,a2aNetwork/test
sonar.exclusions=**/node_modules/**,**/coverage/**,**/dist/**,**/*.test.js,**/*.spec.js

# Language-specific settings
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.python.coverage.reportPaths=coverage.xml
sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Quality Gate Configuration (SAP Enterprise Standards)
# Code Coverage
sonar.coverage.exclusions=**/test/**,**/tests/**,**/spec/**,**/mock/**
sonar.javascript.coverage.reportPaths=coverage/lcov.info
sonar.python.coverage.reportPaths=coverage.xml

# SAP-specific Quality Gates
sonar.qualitygate.wait=true

# Security Hotspots
sonar.security.hotspots.max_issues=0

# Code Smells
sonar.issue.ignore.multicriteria=e1,e2,e3

# Ignore specific rules for SAP UI5
sonar.issue.ignore.multicriteria.e1.ruleKey=javascript:S1134
sonar.issue.ignore.multicriteria.e1.resourceKey=**/controller/*.js
sonar.issue.ignore.multicriteria.e2.ruleKey=javascript:S3776
sonar.issue.ignore.multicriteria.e2.resourceKey=**/Component.js
sonar.issue.ignore.multicriteria.e3.ruleKey=Web:BoldAndItalicTagsCheck
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.xml

# Enterprise Quality Gate Thresholds
# These align with SAP's enterprise standards
sonar.qualitygate.conditions=\
  # Coverage must be at least 90%
  new_coverage,LT,90.0,\
  # Maintainability rating must be A
  new_maintainability_rating,GT,1,\
  # Reliability rating must be A  
  new_reliability_rating,GT,1,\
  # Security rating must be A
  new_security_rating,GT,1,\
  # No new bugs
  new_bugs,GT,0,\
  # No new vulnerabilities
  new_vulnerabilities,GT,0,\
  # No new security hotspots
  new_security_hotspots_reviewed,LT,100,\
  # Technical debt ratio < 5%
  new_technical_debt_ratio,GT,5.0,\
  # Duplicated lines < 3%
  new_duplicated_lines_density,GT,3.0

# Additional metrics
sonar.cpd.exclusions=**/*Test.js,**/*Spec.js
sonar.duplication.exclusions=**/test/**,**/tests/**

# Links
sonar.links.homepage=https://github.com/sap/a2a-platform
sonar.links.ci=https://ci.sap.com/a2a-platform
sonar.links.scm=https://github.com/sap/a2a-platform
sonar.links.issue=https://github.com/sap/a2a-platform/issues